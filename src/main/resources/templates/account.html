<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Account - Vacancies Finder</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
    <link href="css/product.css" rel="stylesheet">
    <link rel="icon" type="image/ico" th:href="@{../static/favicon.ico}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
</head>
<body>
    <div th:replace="fragments/header :: header"></div>

    <form class="account-form" th:action="@{/account}" method="post" id="">
        <!--Email row-->
        <div class="form-group row">
            <label for="username" class="col-sm-2 col-form-label">Логин (e-mail)</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="username" placeholder="Ваш e-mail"
                       th:value="${user.username}" readonly>
            </div>
        </div>
        <!--Email checker-->
        <div class="form-group row">
            <label for="sendByEmailChecker" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value="" id="sendByEmailChecker"
                           th:checked="${useEmail}">
                    <label class="form-check-label" for="sendByEmailChecker">
                        Использовать e-mail при рассылке подобранных вакансий
                    </label>
                </div>
            </div>
        </div>

        <!--Password row-->
        <div class="form-group row">
            <label for="changePassword" class="col-sm-2 col-form-label">Пароль</label>
            <div class="col-sm-10">
                <div id="changePassword" class="form-control-plaintext">
                    <a th:href="@{/changepassword}">Сменить пароль</a>
                </div>
            </div>
        </div>

        <!--Telegram row-->
        <div class="form-group row">
            <label for="telegram" class="col-sm-2 col-form-label">Telegram</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="telegram"
                       th:value="${user.telegram}" placeholder="Укажите ваш telegram">
            </div>
        </div>
        <!--  Telegram checker  -->
        <div class="form-group row">
            <label for="sendByEmailChecker" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" value=""
                            id="sendByTelegramChecker" th:checked="${useTelegram}">
                    <label class="form-check-label" for="sendByTelegramChecker">
                        Использовать Telegram при рассылке подобранных вакансий
                    </label>
                </div>
            </div>
        </div>

        <!--Location row-->
        <div class="form-group row">
            <label for="chooseLocation" class="col-sm-2 col-form-label">Место жительства</label>
            <div class="col-sm-10">
                <input type="text" id="chooseLocation" class="form-control-plaintext"
                value="Укажите Ваше место жительства на карте">
            </div>
        </div>
        <div class="form-group row">
            <label for="googleMaps" class="col-sm-2 col-form-label"></label>
            <div class="col-sm-10">
                <div id="googleMaps" style="height: 400px;"></div>
            </div>
        </div>

        <input type="hidden" id="googleMapsLat" placeholder="Широта" th:value="${latitude}">
        <input type="hidden" id="googleMapsLong" placeholder="Долгота" th:value="${longitude}">

        <!--Travel time row-->
        <div class="form-group row">
            <label for="travelTime" class="col-sm-2 col-form-label">Время в пути</label>
            <div class="col-sm-10">
                <select class="custom-select mr-sm-2" id="travelTime">
                    <option th:selected="${travelTimeInMins == null}">Не имеет значения</option>
                    <option th:selected="${travelTimeInMins == 15}"
                            value="15">Не более 15 минут</option>
                    <option th:selected="${travelTimeInMins == 30}"
                            value="30">Не более 30 минут</option>
                    <option th:selected="${travelTimeInMins == 45}"
                            value="45">Не более 45 минут</option>
                    <option th:selected="${travelTimeInMins == 60}"
                            value="60">Не более 1 часа</option>
                    <option th:selected="${travelTimeInMins == 75}"
                            value="75">Не более 1 часа 15 минут</option>
                    <option th:selected="${travelTimeInMins == 90}"
                            value="90">Не более 1 часа 30 минут</option>
                    <option th:selected="${travelTimeInMins == 105}"
                            value="105">Не более 1 часа 45 минут</option>
                    <option th:selected="${travelTimeInMins == 120}"
                            value="120">Не более 2 часов</option>
                    <option th:selected="${travelTimeInMins == 180}"
                            value="180">Не более 3 часов</option>
                </select>
            </div>
        </div>
        <fieldset class="form-group">
            <div class="row">
                <legend class="col-form-label col-sm-2 pt-0"></legend>
                <div class="col-sm-10">
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="gridRadios"
                               id="travelByCar" value="car"
                               th:checked="${travelBy == 'car' || travelBy == null}">
                        <label class="form-check-label" for="travelByCar">
                            На машине
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="gridRadios"
                               id="travelByPublicTransport" value="public_transport"
                               th:checked="${travelBy == 'public_transport'}">
                        <label class="form-check-label" for="travelByPublicTransport">
                            На общественном транспорте
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="gridRadios"
                               id="travelByWalking" value="walking"
                               th:checked="${travelBy == 'walking'}">
                        <label class="form-check-label" for="travelByWalking">
                            Пешком
                        </label>
                    </div>
                </div>
            </div>
        </fieldset>

        <!--Salary row-->
        <div class="form-group row">
            <label for="salary" class="col-sm-2 col-form-label">Желаемая зарплата</label>
            <div class="col-sm-7">
                <input type="text" class="form-control" id="salary"
                       pattern="[0-9]" placeholder="Укажите желаемую заработную плату"
                       th:value="${salaryValue}">
            </div>
            <div class="col-sm-3">
                <select class="custom-select mr-sm-2" id="currency">
                    <option value="RUB" th:selected="${salaryCurrency == 'RUB'}">RUB</option>
                    <option value="USD" th:selected="${salaryCurrency == 'USD'}">USD</option>
                    <option value="EURO" th:selected="${salaryCurrency == 'EURO'}">EURO</option>
                </select>
            </div>
        </div>

        <!--Submit button-->
        <button type="submit" class="btn btn-primary" id="submitButton" disabled>
            Сохранить изменения
        </button>
    </form>

    <div th:replace="fragments/footer :: footer"></div>

    <!--Javascript files for this page-->
    <script th:src="@{/js/account-page.js}"></script>
    <script src='https://maps.google.com/maps/api/js?sensor=false&libraries=places'></script>
    <script src='https://rawgit.com/Logicify/jquery-locationpicker-plugin/master/dist/locationpicker.jquery.js'></script>
    <script th:src="@{/js/google-maps.js}"></script>

</body>
</html>
